{
   "_id": "_design/projections",
   "language": "javascript",
   "views": {
       "annotations": {
           "map": "function(doc) {    if(doc.couchType=='annotation')      emit(doc._id, doc);   }"
       },
       "annotations-tracks": {
           "map": "function(doc) {    if (doc.couchType=='annotations-track')      emit(doc._id, doc);   }"
       },
       "annotations-relations": {
           "map": "function(doc) {    if (doc.couchType=='annotations-relation')  emit(doc._id, doc); }"
       },
       "annotations-types": {
           "map": "function(doc) {    if (doc.couchType=='annotations-type')  emit(doc._id, doc); }"
       },
       "annotations-relations-types": {
           "map": "function(doc) {    if (doc.couchType=='annotations-relations-type')  emit(doc._id, doc); }"
       }
   },
   "lists": {
       "per_user_and_music": "function(head, req) {     var row;    var response = [];    var musicId = req.query.musicId;    var username = userCtx.name;    start({'headers': { 'Content-Type': 'application/json' } });    while(row = getRow()) {      var doc = row.value;     if(doc.user==username && doc.musicId==musicId)      response.push(doc);    }    send(toJSON(response));  }", 

       "per_user_and_annotations_track" : "function(head, req) { var row; var response = []; var trackId = req.query.trackId; var username = userCtx.name; start({'headers': { 'Content-Type': 'application/json' } }); while(row = getRow()) {  var doc = row.value;  if(doc.user==username && doc.trackId==trackId)   response.push(doc); } send(toJSON(response));}"
   }
}